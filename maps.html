<html>
<head>
  <meta charset=utf-8 />
  <title>Styling polygons</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

    <!-- Load Leaflet from CDN -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
    integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
    integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
    crossorigin=""></script>


    <!-- Load Esri Leaflet from CDN -->
    <script src="https://unpkg.com/esri-leaflet@2.2.3/dist/esri-leaflet.js"
    integrity="sha512-YZ6b5bXRVwipfqul5krehD9qlbJzc6KOGXYsDjU9HHXW2gK57xmWl2gU6nAegiErAqFXhygKIsWPKbjLPXVb2g=="
    crossorigin=""></script>

    <!-- Load Maps Countries -->
    <script type="text/javascript" src="countries.js"></script>


  <style>
    body { margin:0; padding:0; }
    #map { position: absolute; top:0; bottom:0; right:0; left:0; }
  </style>
</head>
<body>

<div id="map"></div>

<script>
  function getColor(d) {
    return d == "Nordeste" ? '#800026' : 
      d == "Sudeste" ? '#BD0026' : 
      d == "Norte" ? '#E31A1C' : 
      d == "Sul" ? '#FC4E2A' : 
      //d > 10 ? '#FD8D3C' : 
      //d > 05 ? '#FEB24C' : 
      //d > 0 ? '#FED976' : 
      '#FFEDA0'; 
  }

  function style(feature) { 
    return { 
      fillColor: getColor(
      feature.properties.REGIAO), 
      weight: 2, 
      opacity: 1, 
      color: 'white', 
      dashArray: '3', 
      fillOpacity: 0.7 
    }; 
  }

  function popup(feature, layer) { 
    if (feature.properties && feature.properties.NOME_UF) 
    { 
      layer.bindPopup(feature.properties.NOME_UF); 
    } 
  }

  var map = L.map('map').setView([ -15.7801, -47.9292], 4);

  L.esri.basemapLayer('Topographic').addTo(map);

  //L.control.scale().addTo(map);
  L.marker([-15.7801, -47.9292],{draggable: false}).addTo(map).bindPopup("Bras√≠lia");
  L.marker([-9.974, -67.8076],{draggable: false}).addTo(map);
  L.marker([0.0344566, -51.0666],{draggable: false}).addTo(map);
  L.marker([-3.10719, -60.0261],{draggable: false}).addTo(map);
  L.marker([-1.45502, -48.5024],{draggable: false}).addTo(map);
  L.marker([-8.76183, -63.902],{draggable: false}).addTo(map);
  L.marker([2.81954, -60.6714],{draggable: false}).addTo(map);
  L.marker([-10.1689, -48.3317],{draggable: false}).addTo(map);
  L.marker([-9.66625, -35.7351],{draggable: false}).addTo(map);
  L.marker([-12.9704, -38.5124],{draggable: false}).addTo(map);
  L.marker([-3.71839, -38.5434],{draggable: false}).addTo(map);
  L.marker([-2.53073, -44.3068],{draggable: false}).addTo(map);
  L.marker([-7.11532, -34.861],{draggable: false}).addTo(map);
  L.marker([-8.05428 , -34.8813],{draggable: false}).addTo(map);
  L.marker([-5.08921 , -42.8016],{draggable: false}).addTo(map);
  L.marker([-5.79448 , -35.211],{draggable: false}).addTo(map);
  L.marker([-10.9095 , -37.0748],{draggable: false}).addTo(map);
  L.marker([-16.6799 , -49.255],{draggable: false}).addTo(map);
  L.marker([-15.5989 , -56.0949],{draggable: false}).addTo(map);
  L.marker([-20.4435 , -54.6478],{draggable: false}).addTo(map);
  L.marker([-20.3222 , -40.3381],{draggable: false}).addTo(map);
  L.marker([-19.8157 , -43.9542],{draggable: false}).addTo(map);
  L.marker([-23.5489 , -46.6388],{draggable: false}).addTo(map);
  L.marker([-22.9035 , -43.2096],{draggable: false}).addTo(map);
  L.marker([-25.4284 , -49.2733],{draggable: false}).addTo(map);
  L.marker([-30.0277 , -51.2287],{draggable: false}).addTo(map);
  L.marker([-27.5969 , -48.5495],{draggable: false}).addTo(map);
  
  //L.geoJson(countries, { style: style }).addTo(map);

  geojson = L.geoJson(countries, { 
    style: style, onEachFeature: popup 
  }) 
  .addTo(map);
</script>

</body>
</html>